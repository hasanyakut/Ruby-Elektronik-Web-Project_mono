@model RubyElektronik.Models.ServiceRecord
@{
    ViewData["Title"] = "Servis Kaydı Oluştur";
}
<div class="row justify-content-center mt-5">
    <div class="col-md-7">
        <div class="card p-4">
            <h2 class="mb-4 text-center">Servis Kaydı Oluştur</h2>
            @if (ViewBag.Basarili == true)
            {
                <div class="alert alert-success">Kayıt başarıyla oluşturuldu!</div>
            }
            <form asp-action="ServisKayit" method="post">
                <div class="mb-3">
                    <label asp-for="Ad" class="form-label"></label>
                    <input asp-for="Ad" class="form-control" />
                    <span asp-validation-for="Ad" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <label asp-for="Soyad" class="form-label"></label>
                    <input asp-for="Soyad" class="form-control" />
                    <span asp-validation-for="Soyad" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <label asp-for="UserType" class="form-label"></label>
                    <select asp-for="UserType" class="form-control" id="userTypeSelect">
                        <option value="">Kullanıcı tipi seçiniz</option>
                        <option value="Individual">Bireysel</option>
                        <option value="Corporate">Kurumsal</option>
                    </select>
                    <span asp-validation-for="UserType" class="text-danger"></span>
                </div>
                <div class="mb-3" id="firmaAdiGroup" style="display: none;">
                    <label asp-for="FirmaAdi" class="form-label"></label>
                    <input asp-for="FirmaAdi" class="form-control" />
                    <span asp-validation-for="FirmaAdi" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <label asp-for="TelefonNumarasi" class="form-label"></label>
                    <input asp-for="TelefonNumarasi" class="form-control" placeholder="+90 555 123 4567" />
                    <span asp-validation-for="TelefonNumarasi" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <label asp-for="UrunTuru" class="form-label"></label>
                    <input asp-for="UrunTuru" class="form-control" />
                    <span asp-validation-for="UrunTuru" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <label asp-for="ArizaAciklamasi" class="form-label"></label>
                    <textarea asp-for="ArizaAciklamasi" class="form-control" rows="3"></textarea>
                    <span asp-validation-for="ArizaAciklamasi" class="text-danger"></span>
                </div>
                <button type="submit" class="btn btn-primary w-100">Kaydı Gönder</button>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.getElementById('userTypeSelect').addEventListener('change', function() {
            const firmaAdiGroup = document.getElementById('firmaAdiGroup');
            const firmaAdiInput = document.querySelector('input[name="FirmaAdi"]');
            
            if (this.value === 'Corporate') {
                firmaAdiGroup.style.display = 'block';
                firmaAdiInput.setAttribute('required', 'required');
            } else {
                firmaAdiGroup.style.display = 'none';
                firmaAdiInput.removeAttribute('required');
                firmaAdiInput.value = '';
            }
        });
    </script>
} 